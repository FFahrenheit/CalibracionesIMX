<div class="table-responsive container text-center mb-5">
    <alert></alert>
    <div class="table-responsive">
        <table class="table table-borderless">
            <tr>
                <td>
                    <h4 class="text-left my-1">Lista de equipos</h4>
                </td>
                <td>
                    <div class="text-right">
                        <filter (apply)="appyFilters($event)" (reset)="resetFilters()"> </filter>
                    </div>
                </td>
            </tr>
        </table>
    </div>


    <table class="table table-hover table-bordered table-sm" *ngIf="devices?.length > 0;else empty_body">
        <thead>
            <tr class="header">
                <th scope="col" [appSort]="devices" data-order="desc" data-name="id" class="align-middle">
                    <i class="fas fa-sort"></i>
                    ID
                </th>
                <th scope="col" [appSort]="devices" data-order="desc" data-name="descripcion" class="align-middle">
                    <i class="fas fa-sort"></i>
                    Descripci贸n
                </th>
                <th scope="col" [appSort]="devices" data-order="desc" data-name="serie" class="align-middle">
                    <i class="fas fa-sort"></i>
                    No. serie
                </th>
                <th scope="col" [appSort]="devices" data-order="desc" data-name="estado" class="align-middle">
                    <i class="fas fa-sort"></i>
                    Estado
                </th>
                <th scope="col" [appSort]="devices" data-order="desc" data-name="activo" class="align-middle">
                    <span class="mx-1 no-wrap">
                        <i class="fas fa-sort mr-1"></i>Activo
                    </span>
                </th>
                <th scope="col" [appSort]="devices" data-order="desc" data-name="ubicacion" class="align-middle">
                    <i class="fas fa-sort"></i>
                    Ubicaci贸n
                </th>
                <th scope="col" [appSort]="devices" data-order="desc" data-name="ultima" class="align-middle">
                    <i class="fas fa-sort"></i>
                    Ultima calibraci贸n
                </th>
                <th scope="col" [appSort]="devices" data-order="desc" data-name="siguiente" class="align-middle">
                    <i class="fas fa-sort"></i>
                    Siguiente calibraci贸n
                </th>
            </tr>
        </thead>
        <tbody class="click">
            <tr *ngFor="let d of devices" (click)="deviceDetails(d.id)">
                <td> {{ d.id }}</td>
                <td> {{ d.descripcion }} </td>
                <td> {{ d.serie }}</td>
                <td>
                     <i [class]="icons.estado(d.estado)"></i>
                     {{ d.estado }} 
                </td>
                <td>
                     <i [class]="icons.activo(d.activo)"></i>
                     {{ d.activo }} 
                </td>    
                <td> {{ d.ubicacion}} </td>
                <td> {{ d.ultima | date:'shortDate' }} </td>            
                <td> {{ d.siguiente | date:'shortDate' }} </td>
            </tr>
        </tbody>


    </table>
    <ng-template #empty_body>
        <error-message  [loading]="devices == null ? null : true"
        title="No hay resultados"
        description="No se encontraron resultados para los filtros aplicados"
        action = "Aplicar otros filtros"
        [customAction]="true" action="Cargar lista de equipos"
        (back)="resetFilters()">
        </error-message>
    </ng-template>
</div>